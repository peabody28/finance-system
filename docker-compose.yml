version: "3"
services:
  api.user:
    build:
        context: .
        dockerfile: ./user/Dockerfile
    volumes:
      - "./db:/app/db" 
    ports:
      - "81:80"
      
  api.wallet:
    build:
        context: .
        dockerfile: ./wallet/Dockerfile
    volumes:
      - "./db:/app/db" 
    ports:
      - "82:80"
      
  api.payment:
    build:
        context: .
        dockerfile: ./payment/Dockerfile
    volumes:
      - "./db:/app/db" 
    ports:
      - "83:80"

  api.currency:
    build:
        context: .
        dockerfile: ./currency/Dockerfile
    volumes:
      - "./db:/app/db" 
    ports:
      - "84:80"

  rabbitMQ:
    image: "rabbitmq:3.9-management"
    environment:
      - RABBITMQ_DEFAULT_USER=peabody28
      - RABBITMQ_DEFAULT_PASS=1234
    ports:
      - "5672:5672"
      - "15672:15672" 